<html lang="en"><head>
<meta charset="UTF-8">

<!-- FAVICON -->
<link rel="icon" type="image/png" sizes="32x32" href="logo.png">
<link rel="icon" type="image/png" sizes="64x64" href="logo.png">
<link rel="icon" type="image/png" sizes="128x128" href="logo.png">


<title>PIERO AI PREMIER</title>

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&amp;display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;margin:0;padding:0;}
body{
  font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background:#0a0a0a;
  color:white;
  transition:0.3s;
}
body.light{ background:#f5f5f5; color:#111; }

/* HEADER */
.header-box{
  width:100%;
  height:25vh;
  background: linear-gradient(135deg,#1f1c2c,#928dab);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  font-family: 'Montserrat', sans-serif;
  font-size:6vh;
  font-weight:700;
  letter-spacing:2px;
  color:#ffffff;
  text-align:center;
  position:relative;
  overflow:hidden;
  transition: transform 0.3s;
  cursor:pointer;
}
.header-box:hover{ transform: scale(1.02); }
.header-box::before{
  content:"";
  position:absolute;
  top:0; left:0; width:200%; height:200%;
  background:transparent url('data:image/svg+xml;utf8,\
<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200">\
<circle cx="10" cy="10" r="1.2" fill="%23ffffff"/><circle cx="50" cy="80" r="0.8" fill="%23ffffff"/>\
<circle cx="120" cy="40" r="1.5" fill="%23ffffff"/><circle cx="170" cy="150" r="1" fill="%23ffffff"/>\
<circle cx="60" cy="160" r="0.7" fill="%23ffffff"/><circle cx="180" cy="20" r="1.2" fill="%23ffffff"/>\
<circle cx="90" cy="110" r="1" fill="%23ffffff"/><circle cx="30" cy="60" r="1.3" fill="%23ffffff"/>\
<circle cx="140" cy="90" r="0.9" fill="%23ffffff"/><circle cx="20" cy="140" r="1.1" fill="%23ffffff"/>\
</svg>') repeat;
  animation: moveStars 60s linear infinite;
  opacity:0.5;
  pointer-events:none;
}
.header-box:hover::before{ animation: moveStarsHover 10s linear infinite; }
@keyframes moveStars{ from{transform:translate(0,0);} to{transform:translate(-100px,-100px);} }
@keyframes moveStarsHover{ from{transform:translate(0,0);} to{transform:translate(-200px,-200px);} }

/* DESCRIPCI√ìN */
.description{
  text-align:center;
  font-family:'Poppins', sans-serif;
  font-size:1em;
  margin:40px auto 50px auto;
  color:#fff;
  max-width:800px;
}
body.light .description{ color:#111; }

/* INTERRUPTORES */
.switches{
  position:fixed;
  top:15px;
  width:100%;
  display:flex;
  justify-content:space-between;
  padding:0 20px;
  z-index:100;
}
.switch{
  display:flex;
  align-items:center;
  font-weight:bold;
  cursor:pointer;
  font-size:0.9em;
  color:white !important;
}
.switch input{display:none;}
.slider{
  width:30px;height:16px;
  background:#555;border-radius:34px;
  margin-left:8px;position:relative;transition:0.4s;
}
.slider::before{
  content:"";
  position:absolute;width:12px;height:12px;
  left:2px;bottom:2px;background:white;border-radius:50%;transition:0.4s;
}
input:checked + .slider{background:#00d2ff;}
input:checked + .slider::before{transform:translateX(14px);}

/* CONTENEDORES */
.main-container{
  display:flex;
  justify-content:center;
  gap:20px;
  margin-top:20px;
  padding:0 20px;
  flex-wrap:wrap;
}
.video-box{
  flex:1;
  min-width:280px;
  border-radius:15px;
  padding:15px;
  display:flex;
  flex-direction:column;
  align-items:center;
  position:relative;
  overflow:hidden;
  transition:0.3s, box-shadow 0.3s;
  cursor:pointer;
  background:#222;
}
body.light .video-box{ background:#ccc; }
.video-box h3{margin-bottom:10px; z-index:10; position:relative;}
.video-box video{
  width:100%;
  height:auto;
  border-radius:10px;
  max-height:80vh;
  object-fit:contain;
  transition: filter 0.3s;
}

/* BOTONES */
.upload-btn{
  padding:12px 25px;
  background:#333;
  color:white;
  border:none;
  border-radius:25px;
  font-weight:bold;
  cursor:pointer;
  margin-top:10px;
  transition:0.3s;
  z-index:10;
}
.upload-btn:hover{
  transform:scale(1.05);
  box-shadow:0 0 10px rgba(0,0,0,0.7);
}
.process-btn{
  margin:30px auto 10px auto;
  display:block;
  padding:15px 35px;
  background:#222;
  color:white;
  border:none;
  border-radius:25px;
  font-weight:bold;
  font-size:16px;
  cursor:pointer;
  transition:0.3s, box-shadow 0.3s;
}
.process-btn:hover{
  transform:scale(1.05);
  box-shadow:0 0 10px rgba(100,100,100,0.5);
}
#cancelBtn{ background:#aa2222 !important; }
#downloadBtn{
  display:none;
  margin:10px auto 50px auto;
  padding:12px 30px;
  background:#00d2ff;
  color:#000;
  font-weight:bold;
  border:none;
  border-radius:25px;
  cursor:pointer;
  transition:0.3s;
}
#downloadBtn:hover{
  transform:scale(1.05);
  box-shadow:0 0 10px rgba(0,210,255,0.5);
}

/* OVERLAY */
.loading-overlay{
  position:absolute;
  top:0; left:0; width:100%; height:100%;
  background: rgba(10,10,10,0.4);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  backdrop-filter: blur(6px);
  color:white;font-weight:bold;font-size:1.2em;
  display:none;
  border-radius:10px;
  z-index:5;
}
.circle-loader{
  width:40px;height:40px;border:4px solid #fff;
  border-top:4px solid rgba(255,255,255,0.2);
  border-radius:50%;
  animation:spin 1s linear infinite;
  margin-bottom:10px;
}
@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);} }

footer{
  text-align:center;
  margin-bottom:20px;
  font-size:0.9em;
  color:#aaa;
}
body.light footer{color:#555;}
</style>
</head>
<body class="">

<!-- INTERRUPTORES -->
<div class="switches">
  <label class="switch" id="darkLabel"><span id="darkEmoji">üåô</span>
    <input type="checkbox" id="darkSwitch">
    <span class="slider"></span>
  </label>
  <label class="switch">EN/ES
    <input type="checkbox" id="langSwitch">
    <span class="slider"></span>
  </label>
</div>

<!-- HEADER -->
<div class="header-box" id="title">PIERO AI PREMIER</div>

<!-- DESCRIPCI√ìN -->
<div class="description" id="descriptionText">Piero AI Premier uses advanced AI to upscale your videos to 4K quickly. Upload your MP4 file or drag it into the box labeled <strong>Video Original</strong>.</div>

<!-- MAIN -->
<div class="main-container">
  <div class="video-box" id="dropOriginal">
    <h3 id="labelOriginal">Video Original</h3>
    <video id="videoOriginal" controls="" style="display:none;"></video>
    <button class="upload-btn" id="uploadBtn">Upload Video</button>
    <button class="upload-btn" id="cancelBtn" style="display:none;">Cancel</button>
    <input type="file" id="videoInput" accept="video/*" style="display:none;">
  </div>
  <div class="video-box" id="drop4k">
    <h3 id="label4k">4K Video</h3>
    <div class="loading-overlay" id="loadingOverlay">
      <div class="circle-loader"></div>
      <div id="progressText">0%</div>
    </div>
    <video id="video4k" controls="" style="display:none;"></video>
  </div>
</div>

<!-- BOTONES -->
<button class="process-btn" id="processBtn">Scale to 4K</button>
<button id="downloadBtn">Download 4K Video</button>

<footer>Created by Piero Pacheco ¬© 2026</footer>

<script>
// Variables
const darkSwitch = document.getElementById("darkSwitch");
const darkEmoji = document.getElementById("darkEmoji");
const langSwitch = document.getElementById("langSwitch");
const uploadBtn = document.getElementById("uploadBtn");
const cancelBtn = document.getElementById("cancelBtn");
const videoInput = document.getElementById("videoInput");
const videoOriginal = document.getElementById("videoOriginal");
const processBtn = document.getElementById("processBtn");
const video4k = document.getElementById("video4k");
const loadingOverlay = document.getElementById("loadingOverlay");
const progressText = document.getElementById("progressText");
const descriptionText = document.getElementById("descriptionText");
const downloadBtn = document.getElementById("downloadBtn");
const labelOriginal = document.getElementById("labelOriginal");
const label4k = document.getElementById("label4k");
const dropOriginal = document.getElementById("dropOriginal");

// DARK MODE
document.body.classList.remove("light");
darkSwitch.checked = false;
darkEmoji.textContent = "üåô";
darkSwitch.addEventListener("change", ()=>{
    document.body.classList.toggle("light", darkSwitch.checked);
    darkEmoji.textContent = darkSwitch.checked ? "‚òÄÔ∏è" : "üåô";
});

// LANGUAGE
function updateLanguage(lang){
    if(lang==="es"){
        processBtn.textContent="Escalar a 4K";
        uploadBtn.textContent="Subir Video";
        cancelBtn.textContent="Cancelar";
        labelOriginal.textContent="Video Original";
        label4k.textContent="4K Video";
        descriptionText.innerHTML="Piero AI Premier utiliza IA avanzada para escalar tus videos a 4K r√°pidamente. Sube tu archivo MP4 o arr√°stralo al recuadro con el nombre <strong>Video Original</strong>.";
        downloadBtn.textContent="Descargar Video 4K";
    }else{
        processBtn.textContent="Scale to 4K";
        uploadBtn.textContent="Upload Video";
        cancelBtn.textContent="Cancel";
        labelOriginal.textContent="Video Original";
        label4k.textContent="4K Video";
        descriptionText.innerHTML="Piero AI Premier uses advanced AI to upscale your videos to 4K quickly. Upload your MP4 file or drag it into the box labeled <strong>Video Original</strong>.";
        downloadBtn.textContent="Download 4K Video";
    }
}
langSwitch.addEventListener("change", ()=> updateLanguage(langSwitch.checked?"es":"en"));

// HANDLE FILE
function handleFile(file){
  if(file){
    const url = URL.createObjectURL(file);
    videoOriginal.src = url;
    videoOriginal.style.display="block";
    uploadBtn.style.display="none";
    cancelBtn.style.display="block";
    videoOriginal.load();
    videoInput.files = fileList(file);
  }
}
function fileList(file){ const b = new DataTransfer(); b.items.add(file); return b.files; }

// UPLOAD BUTTON
uploadBtn.addEventListener("click", ()=>videoInput.click());
videoInput.addEventListener("change", ()=> handleFile(videoInput.files[0]));

// CANCEL
cancelBtn.addEventListener("click", ()=>{
  videoOriginal.src=""; videoOriginal.style.display="none";
  uploadBtn.style.display="block"; cancelBtn.style.display="none";
  videoInput.value=""; video4k.src=""; video4k.style.display="none";
  downloadBtn.style.display="none";
  video4k.style.filter="none";
});

// DRAG & DROP
dropOriginal.addEventListener("dragover",(e)=>{ e.preventDefault(); dropOriginal.style.border="2px dashed #00d2ff"; });
dropOriginal.addEventListener("dragleave",(e)=>{ e.preventDefault(); dropOriginal.style.border="none"; });
dropOriginal.addEventListener("drop",(e)=>{ e.preventDefault(); dropOriginal.style.border="none"; handleFile(e.dataTransfer.files[0]); });

// PROCESS 4K
processBtn.addEventListener("click", async()=>{
  const file = videoInput.files[0];
  if(!file){ alert(langSwitch.checked?"Selecciona un video":"Select a video"); return; }

  processBtn.disabled=true; 
  processBtn.textContent=langSwitch.checked?"Procesando...":"Processing...";
  video4k.style.display="block"; 
  video4k.style.filter="blur(8px) brightness(0.7)"; 
  loadingOverlay.style.display="flex"; 
  progressText.textContent="0%";
  downloadBtn.style.display="none";

  const form=new FormData(); form.append("file",file);
  try{
    const res = await fetch("/upscale",{method:"POST",body:form});
    const data = await res.json();

    video4k.src = window.location.origin + data.video_url;
    video4k.load();
    video4k.style.filter="none";

    downloadBtn.style.display="block";
    downloadBtn.onclick = ()=> window.open(window.location.origin + data.video_url,"_blank");

  }catch(err){ alert("Error processing video / Error al procesar el video"); console.error(err); }

  loadingOverlay.style.display="none"; 
  processBtn.disabled=false; 
  processBtn.textContent = langSwitch.checked?"Escalar a 4K":"Scale to 4K";
});

// HEADER CLICK
const header = document.getElementById("title");
header.addEventListener("click",(e)=>{ if(e.ctrlKey) window.open(window.location.href,"_blank"); else location.reload(); });
header.addEventListener("auxclick",(e)=>{ if(e.button===1) window.open(window.location.href,"_blank"); });
</script>


<div><template shadowrootmode="open"><link href="chrome-extension://jffbochibkahlbbmanpmndnhmeliecah/picture-in-picture.css" type="text/css" rel="stylesheet"><div class="vivaldi-picture-in-picture-container initial"><input type="button" class="vivaldi-picture-in-picture-button" aria-label="picture-in-picture-button"></div></template></div></body><div><template shadowrootmode="open"><link href="chrome-extension://jffbochibkahlbbmanpmndnhmeliecah/picture-in-picture.css" type="text/css" rel="stylesheet"><div class="vivaldi-picture-in-picture-container initial"><input type="button" class="vivaldi-picture-in-picture-button" aria-label="picture-in-picture-button"></div></template></div></html>